{"remainingRequest":"E:\\test\\VueStudy\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\test\\VueStudy\\src\\views\\Scroll\\Linkage\\Linkage.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\test\\VueStudy\\src\\views\\Scroll\\Linkage\\Linkage.vue","mtime":1602316375930},{"path":"E:\\test\\VueStudy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\test\\VueStudy\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\test\\VueStudy\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\test\\VueStudy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\test\\VueStudy\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport BScroll from 'better-scroll'\r\nexport default {\r\n    name:'Linkage',\r\n    data(){\r\n        return {\r\n            leftList:[],\r\n            rightList:[],\r\n            heightAll:[],\r\n            scrollHeight:0\r\n        }\r\n    },\r\n    created(){\r\n        this.getData();\r\n    },\r\n    computed:{\r\n        selectOn(){\r\n            let index=this.heightAll.findIndex((item,index)=>{\r\n                return this.scrollHeight>=this.heightAll[index] && this.scrollHeight<this.heightAll[index+1]\r\n            })\r\n            return index>0?index:0;\r\n        }\r\n    },\r\n    methods:{\r\n        getData(){\r\n            for(let i=0;i<20;i++){\r\n                this.leftList.push(i)\r\n                this.rightList.push(i)\r\n            }\r\n            this.$nextTick(()=>{\r\n                this.initScroll();\r\n                this.getGoodHeight();\r\n            })\r\n        },\r\n        initScroll(){\r\n            let that=this;\r\n            this.leftScroll=new BScroll(this.$refs.leftWrap,{\r\n                scrollY:true,\r\n                click:true,\r\n                // scrollbar: {//开启显示滚动条\r\n                //     fade: true,\r\n                //     interactive: false \r\n                // },\r\n                probeType:3,//开启滚动事件\r\n                pullUpLoad: {//开启上拉\r\n                    threshold: 50\r\n                },\r\n            })\r\n            \r\n            this.rightScroll=new BScroll(this.$refs.rightWrap,{\r\n                scrollY:true,\r\n                click:true,\r\n                scrollbar: {//开启显示滚动条\r\n                    fade: true,\r\n                    interactive: false \r\n                },\r\n                probeType:3,//开启滚动事件\r\n                pullUpLoad: {//开启上拉\r\n                    threshold: 50\r\n                },\r\n            })\r\n            this.rightScroll.on('scroll',(pos)=>{\r\n                this.scrollHeight=Math.abs(Math.round(pos.y));\r\n            })\r\n        },\r\n        getGoodHeight(){\r\n            let liNum=this.$refs.rightItem;\r\n            let height=0;\r\n            this.heightAll.push(height)\r\n            liNum.forEach(item=>{\r\n                height +=item.clientHeight;\r\n                this.heightAll.push(height)\r\n            })\r\n        },\r\n        handChange(index){\r\n            let elList= this.$refs.rightItem//document.getElementsByClassName('rightList')[0];\r\n            let el=this.$refs.rightItem[index];\r\n            this.rightScroll.scrollToElement(el,800)\r\n        }\r\n    }\r\n}\r\n",{"version":3,"sources":["Linkage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Linkage.vue","sourceRoot":"src/views/Scroll/Linkage","sourcesContent":["<template>\r\n    <div class=\"box\">\r\n        <div class=\"box-left\" ref=\"leftWrap\" >\r\n            <ul class=\"leftList\">\r\n                <li v-for=\"(item,index) in leftList\" :key=\"index\" @click=\"handChange(index)\" :class=\"selectOn==index?'on':''\">{{item}}</li>\r\n            </ul>\r\n        </div> \r\n        <div class=\"box-right\" ref=\"rightWrap\">\r\n            <ul class=\"rightList\" ref=\"wrapRight\">\r\n                <li ref=\"rightItem\" class=\"rightItem\" v-for=\"(item,index) in leftList\" :id=\"'warp'+index\" :key=\"index\">{{item}}</li>\r\n            </ul>\r\n        </div>   \r\n    </div>\r\n</template>\r\n<script>\r\nimport BScroll from 'better-scroll'\r\nexport default {\r\n    name:'Linkage',\r\n    data(){\r\n        return {\r\n            leftList:[],\r\n            rightList:[],\r\n            heightAll:[],\r\n            scrollHeight:0\r\n        }\r\n    },\r\n    created(){\r\n        this.getData();\r\n    },\r\n    computed:{\r\n        selectOn(){\r\n            let index=this.heightAll.findIndex((item,index)=>{\r\n                return this.scrollHeight>=this.heightAll[index] && this.scrollHeight<this.heightAll[index+1]\r\n            })\r\n            return index>0?index:0;\r\n        }\r\n    },\r\n    methods:{\r\n        getData(){\r\n            for(let i=0;i<20;i++){\r\n                this.leftList.push(i)\r\n                this.rightList.push(i)\r\n            }\r\n            this.$nextTick(()=>{\r\n                this.initScroll();\r\n                this.getGoodHeight();\r\n            })\r\n        },\r\n        initScroll(){\r\n            let that=this;\r\n            this.leftScroll=new BScroll(this.$refs.leftWrap,{\r\n                scrollY:true,\r\n                click:true,\r\n                // scrollbar: {//开启显示滚动条\r\n                //     fade: true,\r\n                //     interactive: false \r\n                // },\r\n                probeType:3,//开启滚动事件\r\n                pullUpLoad: {//开启上拉\r\n                    threshold: 50\r\n                },\r\n            })\r\n            \r\n            this.rightScroll=new BScroll(this.$refs.rightWrap,{\r\n                scrollY:true,\r\n                click:true,\r\n                scrollbar: {//开启显示滚动条\r\n                    fade: true,\r\n                    interactive: false \r\n                },\r\n                probeType:3,//开启滚动事件\r\n                pullUpLoad: {//开启上拉\r\n                    threshold: 50\r\n                },\r\n            })\r\n            this.rightScroll.on('scroll',(pos)=>{\r\n                this.scrollHeight=Math.abs(Math.round(pos.y));\r\n            })\r\n        },\r\n        getGoodHeight(){\r\n            let liNum=this.$refs.rightItem;\r\n            let height=0;\r\n            this.heightAll.push(height)\r\n            liNum.forEach(item=>{\r\n                height +=item.clientHeight;\r\n                this.heightAll.push(height)\r\n            })\r\n        },\r\n        handChange(index){\r\n            let elList= this.$refs.rightItem//document.getElementsByClassName('rightList')[0];\r\n            let el=this.$refs.rightItem[index];\r\n            this.rightScroll.scrollToElement(el,800)\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"stylus\" >\r\n@import '../../../common/stylus/mixin.styl';\r\n.box\r\n    display flex\r\n    width 100%\r\n    height 100%\r\n    padding-bottom .5rem\r\n    box-sizing border-box \r\n    .box-left\r\n        position relative\r\n        height 100%\r\n        width 1rem\r\n        border-right 1px solid #ccc \r\n        box-sizing border-box \r\n        overflow hidden\r\n        .leftList\r\n            height:auto;\r\n            width 100%\r\n            li \r\n                text-align center\r\n                height .4rem\r\n                line-height .4rem\r\n                border-1px(#ccc)\r\n                &.on \r\n                    background blue \r\n                    color #fff \r\n    .box-right\r\n        position relative\r\n        flex 1\r\n        height 100%\r\n        width 1rem\r\n        overflow hidden\r\n        .rightList\r\n            width 100%\r\n            li \r\n                text-align center\r\n                height 4rem\r\n                line-height 4rem\r\n                border-1px(#ccc)\r\n                box-sizing border-box\r\n\r\n</style>"]}]}