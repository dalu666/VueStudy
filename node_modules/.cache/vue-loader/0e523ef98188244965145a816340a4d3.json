{"remainingRequest":"E:\\test\\VueStudy\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\test\\VueStudy\\src\\views\\Getserve\\Getserve.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\test\\VueStudy\\src\\views\\Getserve\\Getserve.vue","mtime":1602316375929},{"path":"E:\\test\\VueStudy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\test\\VueStudy\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\test\\VueStudy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\test\\VueStudy\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport url from '../../../request/apiUrl'\r\nimport {getRequest} from '../../../api/api'\r\nimport axios from 'axios'\r\nexport default {\r\n    name:'Getserve',\r\n    data(){\r\n        return{\r\n            goodList:[],\r\n            id:''\r\n        }\r\n    },\r\n    created(){\r\n        let houseObj={};//发布者\r\n        houseObj.list=[];//缓存列表（登记册）；\r\n        // 添加订阅者\r\n        houseObj.listen=function(fn){\r\n            // 订阅消息添加到缓存列表\r\n            this.list.push(fn);\r\n        }\r\n        // 发布\r\n        houseObj.trigger=function(){\r\n            for(let i=0,fn;fn=this.list[i++];){\r\n                fn.apply(this,arguments)\r\n            }\r\n        }\r\n        houseObj.listen(function(size){\r\n            console.log('小红要的房子是'+size+'平米')\r\n        })\r\n        houseObj.listen(function(size){\r\n            console.log('小绿要的房子是'+size+'平米')\r\n        })\r\n        // houseObj.trigger(100);\r\n        // houseObj.trigger(150);\r\n        this.init()\r\n    },\r\n    methods:{\r\n        init(){\r\n            getRequest(url.goodAll,{}).then((res)=>{\r\n                if(res.code==200){\r\n                    this.goodList=res.data;\r\n                }\r\n            })\r\n        },\r\n        add(){\r\n            let data={};\r\n            data.name=\"香蕉\"+Math.floor((Math.random()*10)+1);\r\n            data.desc=\"香山的\";\r\n            data.price=\"8.88\";\r\n            data.sum='2'\r\n            getRequest(url.goodAdd,data).then((res)=>{\r\n                if(res.code==200){\r\n                   this.init()\r\n                }\r\n            })\r\n        },\r\n        del(index){\r\n            let data={};\r\n            data.id=index;\r\n            getRequest(url.goodDel,data).then((res)=>{\r\n                if(res.code==200){\r\n                   this.init()\r\n                }\r\n            })\r\n        },\r\n        updata(index){\r\n            let data={};\r\n            data.id=index;\r\n            data.price=((Math.random()*10)+1).toFixed(2)\r\n            getRequest(url.goodUpdate,data).then((res)=>{\r\n                if(res.code==200){\r\n                   this.init()\r\n                }\r\n            })\r\n        },\r\n        search(){\r\n            let data={};\r\n            data.id=this.id;\r\n            getRequest(url.goodById,data).then((res)=>{\r\n                if(res.code==200){\r\n                   this.goodList=res.data;\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n",{"version":3,"sources":["Getserve.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Getserve.vue","sourceRoot":"src/views/Getserve","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"title\">getserve</div>\r\n        <button @click=\"add\">添加</button>\r\n        <button @click=\"search\">查找</button>\r\n        <input type=\"text\" v-model=\"id\">\r\n        <ul class=\"goodList\">\r\n            <li v-for=\"(item,index) in goodList\" :key=\"index\">\r\n                <span>{{item.id}}</span>\r\n                <span>{{item.name}}</span>\r\n                <span>{{item.desc}}</span>\r\n                <span>{{item.price}}</span>\r\n                 <span @click=\"updata(item.id)\">修改</span>\r\n                <span @click=\"del(item.id)\">删除</span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</template>\r\n<script>\r\nimport url from '../../../request/apiUrl'\r\nimport {getRequest} from '../../../api/api'\r\nimport axios from 'axios'\r\nexport default {\r\n    name:'Getserve',\r\n    data(){\r\n        return{\r\n            goodList:[],\r\n            id:''\r\n        }\r\n    },\r\n    created(){\r\n        let houseObj={};//发布者\r\n        houseObj.list=[];//缓存列表（登记册）；\r\n        // 添加订阅者\r\n        houseObj.listen=function(fn){\r\n            // 订阅消息添加到缓存列表\r\n            this.list.push(fn);\r\n        }\r\n        // 发布\r\n        houseObj.trigger=function(){\r\n            for(let i=0,fn;fn=this.list[i++];){\r\n                fn.apply(this,arguments)\r\n            }\r\n        }\r\n        houseObj.listen(function(size){\r\n            console.log('小红要的房子是'+size+'平米')\r\n        })\r\n        houseObj.listen(function(size){\r\n            console.log('小绿要的房子是'+size+'平米')\r\n        })\r\n        // houseObj.trigger(100);\r\n        // houseObj.trigger(150);\r\n        this.init()\r\n    },\r\n    methods:{\r\n        init(){\r\n            getRequest(url.goodAll,{}).then((res)=>{\r\n                if(res.code==200){\r\n                    this.goodList=res.data;\r\n                }\r\n            })\r\n        },\r\n        add(){\r\n            let data={};\r\n            data.name=\"香蕉\"+Math.floor((Math.random()*10)+1);\r\n            data.desc=\"香山的\";\r\n            data.price=\"8.88\";\r\n            data.sum='2'\r\n            getRequest(url.goodAdd,data).then((res)=>{\r\n                if(res.code==200){\r\n                   this.init()\r\n                }\r\n            })\r\n        },\r\n        del(index){\r\n            let data={};\r\n            data.id=index;\r\n            getRequest(url.goodDel,data).then((res)=>{\r\n                if(res.code==200){\r\n                   this.init()\r\n                }\r\n            })\r\n        },\r\n        updata(index){\r\n            let data={};\r\n            data.id=index;\r\n            data.price=((Math.random()*10)+1).toFixed(2)\r\n            getRequest(url.goodUpdate,data).then((res)=>{\r\n                if(res.code==200){\r\n                   this.init()\r\n                }\r\n            })\r\n        },\r\n        search(){\r\n            let data={};\r\n            data.id=this.id;\r\n            getRequest(url.goodById,data).then((res)=>{\r\n                if(res.code==200){\r\n                   this.goodList=res.data;\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\ninput\r\n    border 1px solid #ccc\r\nbutton\r\n    margin 0 .05rem\r\n.title\r\n    height .5rem\r\n    line-height .5rem\r\n    text-align center\r\n.goodList\r\n    li\r\n        display flex\r\n        border-bottom 1px solid #ccc \r\n        justify-content space-around\r\n        flex-direction row \r\n        flex-warp no-wrap\r\n        height .5rem \r\n        line-height .5rem\r\n        span \r\n            width 16.6%\r\n            overflow hidden\r\n</style>"]}]}