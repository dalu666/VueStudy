{"remainingRequest":"E:\\test\\VueStudy\\node_modules\\babel-loader\\lib\\index.js!E:\\test\\VueStudy\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\test\\VueStudy\\src\\components\\Message\\Message.js","dependencies":[{"path":"E:\\test\\VueStudy\\src\\components\\Message\\Message.js","mtime":1602316375924},{"path":"E:\\test\\VueStudy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\test\\VueStudy\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\test\\VueStudy\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Message from \"./Message.vue\";\nvar MESSAGE = {\n  duration: 3000,\n  // 显示的时间 ms\n  animateTime: 300,\n  // 动画时间,表示这个组件切换show的动画时间\n  install: function install(Vue) {\n    if (typeof window !== 'undefined' && window.Vue) {\n      Vue = window.Vue;\n    }\n\n    Vue.component('Message', Message);\n\n    function msg(type, text, callBack) {\n      var msg;\n      var duration = MESSAGE.duration;\n\n      if (typeof text === 'string') {\n        msg = text;\n      } else if (text instanceof Object) {\n        msg = text.text || '';\n\n        if (text.duration) {\n          duration = text.duration;\n        }\n      }\n\n      var VueMessage = Vue.extend({\n        render: function render(h) {\n          var props = {\n            type: type,\n            text: msg,\n            show: this.show\n          };\n          return h('message', {\n            props: props\n          });\n        },\n        data: function data() {\n          return {\n            show: false\n          };\n        }\n      });\n      var newMessage = new VueMessage();\n      var vm = newMessage.$mount();\n      var el = vm.$el;\n      document.body.appendChild(el); // 把生成的提示的dom插入body中\n\n      vm.show = true;\n      var t1 = setTimeout(function () {\n        clearTimeout(t1);\n        vm.show = false; //隐藏提示组件，此时会有300ms的动画效果，等动画效果过了再从body中移除dom\n\n        var t2 = setTimeout(function () {\n          clearTimeout(t2);\n          document.body.removeChild(el); //从body中移除dom\n\n          newMessage.$destroy();\n          vm = null; // 设置为null，好让js垃圾回收算法回收，释放内存\n\n          callBack && typeof callBack === 'function' && callBack(); // 如果有回调函数就执行，没有就不执行，用&&操作符，\n          // 只有&&左边 的代码为true才执行&&右边的代码，避免用面条代码：\n          // if(true){\n          //   ... \n          //   if(true){\n          //   ...\n          //   }\n          // }\n        }, MESSAGE.animateTime);\n      }, duration);\n    } // 挂载到vue原型上，暴露四个方法\n\n\n    Vue.prototype.$message = {\n      info: function info(text, callBack) {\n        if (!text) return;\n        msg('info', text, callBack);\n      },\n      success: function success(text, callBack) {\n        if (!text) return;\n        msg('success', text, callBack);\n      },\n      error: function error(text, callBack) {\n        if (!text) return;\n        msg('error', text, callBack);\n      },\n      warning: function warning(text, callBack) {\n        if (!text) return;\n        msg('warning', text, callBack);\n      }\n    };\n  }\n};\nexport default MESSAGE;",{"version":3,"sources":["E:\\test\\VueStudy\\src\\components\\Message\\Message.js"],"names":["Message","MESSAGE","duration","animateTime","install","Vue","window","component","msg","type","text","callBack","Object","VueMessage","extend","render","h","props","show","data","newMessage","vm","$mount","el","$el","document","body","appendChild","t1","setTimeout","clearTimeout","t2","removeChild","$destroy","prototype","$message","info","success","error","warning"],"mappings":"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","sourcesContent":["import Message from './Message.vue'\r\n\r\nconst MESSAGE = {\r\n    duration: 3000, // 显示的时间 ms\r\n    animateTime: 300, // 动画时间,表示这个组件切换show的动画时间\r\n    install(Vue) {\r\n        if (typeof window !== 'undefined' && window.Vue) {\r\n            Vue = window.Vue\r\n        }\r\n        Vue.component('Message', Message)\r\n\r\n        function msg(type, text, callBack) {\r\n        let msg\r\n        let duration = MESSAGE.duration\r\n        if (typeof text === 'string') {\r\n            msg = text\r\n        } else if (text instanceof Object) {\r\n            msg = text.text || ''\r\n            if (text.duration) {\r\n            duration = text.duration\r\n            }\r\n        }\r\n        let VueMessage = Vue.extend({\r\n            render(h) {\r\n                let props = {\r\n                    type,\r\n                    text: msg,\r\n                    show: this.show\r\n                }\r\n                return h('message', {props})\r\n            },\r\n            data() {\r\n                return {\r\n                    show: false\r\n                }\r\n            }\r\n        })\r\n        let newMessage = new VueMessage()\r\n        let vm = newMessage.$mount()\r\n        let el = vm.$el\r\n        document.body.appendChild(el) // 把生成的提示的dom插入body中\r\n        vm.show = true\r\n        let t1 = setTimeout(() => {\r\n            clearTimeout(t1)\r\n            vm.show = false  //隐藏提示组件，此时会有300ms的动画效果，等动画效果过了再从body中移除dom\r\n            let t2 = setTimeout(() => {\r\n            clearTimeout(t2)\r\n            document.body.removeChild(el) //从body中移除dom\r\n            newMessage.$destroy()\r\n            vm = null // 设置为null，好让js垃圾回收算法回收，释放内存\r\n\r\n            callBack && (typeof callBack === 'function') && callBack() \r\n        // 如果有回调函数就执行，没有就不执行，用&&操作符，\r\n        // 只有&&左边 的代码为true才执行&&右边的代码，避免用面条代码：\r\n        // if(true){\r\n        //   ... \r\n        //   if(true){\r\n        //   ...\r\n        //   }\r\n        // }\r\n            }, MESSAGE.animateTime)\r\n        }, duration)\r\n        }\r\n\r\n    // 挂载到vue原型上，暴露四个方法\r\n        Vue.prototype.$message = {\r\n            info(text, callBack) {\r\n                if (!text) return\r\n                msg('info', text, callBack)\r\n            },\r\n            success(text, callBack) {\r\n                if (!text) return\r\n                msg('success', text, callBack)\r\n            },\r\n            error(text, callBack) {\r\n                if (!text) return\r\n                msg('error', text, callBack)\r\n            },\r\n            warning(text, callBack) {\r\n                if (!text) return\r\n                msg('warning', text, callBack)\r\n            }\r\n        }\r\n    }\r\n}\r\nexport default MESSAGE"]}]}