{"remainingRequest":"E:\\test\\VueStudy\\node_modules\\babel-loader\\lib\\index.js!E:\\test\\VueStudy\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\test\\VueStudy\\request\\server.js","dependencies":[{"path":"E:\\test\\VueStudy\\request\\server.js","mtime":1602316375770},{"path":"E:\\test\\VueStudy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\test\\VueStudy\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\test\\VueStudy\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import axios from 'axios'; // 获取token\n\nfunction getTokenByLocal() {\n  var token = sessionStorage.getItem('token') || '';\n  return;\n} // 创建实列\n\n\nvar serive = axios.create({\n  baseUrl: '/api',\n  timeout: 500\n}); // request 请求拦截\n\nserive.interceptors.request.use(function (config) {\n  if (getTokenByLocal()) {\n    config.headers['token'] = getTokenByLocal();\n    config.headers['ContentType'] = 'application/json;charse=utf-8';\n  }\n\n  return config;\n}, function (error) {\n  Promise.reject(error);\n}); // response 响应拦截器\n\nserive.interceptors.response.use(function (response) {\n  var res = response.data;\n\n  if (res.code == 200) {//do something\n  } else {//do something\n    }\n\n  return Promise.resolve(response.data);\n}, function (error) {\n  return Promise.reject(error);\n});\nexport default serive;",{"version":3,"sources":["E:\\test\\VueStudy\\request\\server.js"],"names":["axios","getTokenByLocal","token","sessionStorage","getItem","serive","create","baseUrl","timeout","interceptors","request","use","config","headers","error","Promise","reject","response","res","data","code","resolve"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,SAASC,eAAT,GAA0B;AACtB,MAAIC,KAAK,GAAEC,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAmC,EAA9C;AACA;AACH,C,CACD;;;AACA,IAAMC,MAAM,GAAEL,KAAK,CAACM,MAAN,CAAa;AACvBC,EAAAA,OAAO,EAAC,MADe;AAEvBC,EAAAA,OAAO,EAAC;AAFe,CAAb,CAAd,C,CAIA;;AACAH,MAAM,CAACI,YAAP,CAAoBC,OAApB,CAA4BC,GAA5B,CACI,UAAAC,MAAM,EAAE;AACJ,MAAGX,eAAe,EAAlB,EAAqB;AACjBW,IAAAA,MAAM,CAACC,OAAP,CAAe,OAAf,IAAwBZ,eAAe,EAAvC;AACAW,IAAAA,MAAM,CAACC,OAAP,CAAe,aAAf,IAA8B,+BAA9B;AACH;;AACD,SAAOD,MAAP;AACH,CAPL,EAQI,UAAAE,KAAK,EAAE;AACHC,EAAAA,OAAO,CAACC,MAAR,CAAeF,KAAf;AACH,CAVL,E,CAaA;;AACAT,MAAM,CAACI,YAAP,CAAoBQ,QAApB,CAA6BN,GAA7B,CACI,UAAAM,QAAQ,EAAE;AACN,MAAIC,GAAG,GAACD,QAAQ,CAACE,IAAjB;;AACA,MAAGD,GAAG,CAACE,IAAJ,IAAU,GAAb,EAAiB,CACb;AACH,GAFD,MAEK,CACD;AACH;;AACD,SAAOL,OAAO,CAACM,OAAR,CAAgBJ,QAAQ,CAACE,IAAzB,CAAP;AACH,CATL,EAUI,UAAAL,KAAK,EAAE;AACH,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAZL;AAeA,eAAeT,MAAf","sourcesContent":["import axios from 'axios';\r\n// 获取token\r\nfunction getTokenByLocal(){\r\n    let token =sessionStorage.getItem('token') || '';\r\n    return;\r\n}\r\n// 创建实列\r\nconst serive =axios.create({\r\n    baseUrl:'/api',\r\n    timeout:500\r\n})\r\n// request 请求拦截\r\nserive.interceptors.request.use(\r\n    config=>{\r\n        if(getTokenByLocal()){\r\n            config.headers['token']=getTokenByLocal();\r\n            config.headers['ContentType']='application/json;charse=utf-8';\r\n        }\r\n        return config;\r\n    },\r\n    error=>{\r\n        Promise.reject(error)\r\n    }\r\n)\r\n\r\n// response 响应拦截器\r\nserive.interceptors.response.use(\r\n    response=>{\r\n        let res=response.data;\r\n        if(res.code==200){\r\n            //do something\r\n        }else{\r\n            //do something\r\n        }\r\n        return Promise.resolve(response.data)\r\n    },\r\n    error=>{\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n\r\nexport default serive;"]}]}