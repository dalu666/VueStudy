{"remainingRequest":"E:\\test\\VueStudy\\node_modules\\thread-loader\\dist\\cjs.js!E:\\test\\VueStudy\\node_modules\\babel-loader\\lib\\index.js!E:\\test\\VueStudy\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\test\\VueStudy\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\test\\VueStudy\\src\\views\\Getserve\\Getserve.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\test\\VueStudy\\src\\views\\Getserve\\Getserve.vue","mtime":1602316375929},{"path":"E:\\test\\VueStudy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\test\\VueStudy\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\test\\VueStudy\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\test\\VueStudy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\test\\VueStudy\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport url from \"../../../request/apiUrl\";\nimport { getRequest } from \"../../../api/api\";\nimport axios from 'axios';\nexport default {\n  name: 'Getserve',\n  data: function data() {\n    return {\n      goodList: [],\n      id: ''\n    };\n  },\n  created: function created() {\n    var houseObj = {}; //发布者\n\n    houseObj.list = []; //缓存列表（登记册）；\n    // 添加订阅者\n\n    houseObj.listen = function (fn) {\n      // 订阅消息添加到缓存列表\n      this.list.push(fn);\n    }; // 发布\n\n\n    houseObj.trigger = function () {\n      for (var i = 0, fn; fn = this.list[i++];) {\n        fn.apply(this, arguments);\n      }\n    };\n\n    houseObj.listen(function (size) {\n      console.log('小红要的房子是' + size + '平米');\n    });\n    houseObj.listen(function (size) {\n      console.log('小绿要的房子是' + size + '平米');\n    }); // houseObj.trigger(100);\n    // houseObj.trigger(150);\n\n    this.init();\n  },\n  methods: {\n    init: function init() {\n      var _this = this;\n\n      getRequest(url.goodAll, {}).then(function (res) {\n        if (res.code == 200) {\n          _this.goodList = res.data;\n        }\n      });\n    },\n    add: function add() {\n      var _this2 = this;\n\n      var data = {};\n      data.name = \"香蕉\" + Math.floor(Math.random() * 10 + 1);\n      data.desc = \"香山的\";\n      data.price = \"8.88\";\n      data.sum = '2';\n      getRequest(url.goodAdd, data).then(function (res) {\n        if (res.code == 200) {\n          _this2.init();\n        }\n      });\n    },\n    del: function del(index) {\n      var _this3 = this;\n\n      var data = {};\n      data.id = index;\n      getRequest(url.goodDel, data).then(function (res) {\n        if (res.code == 200) {\n          _this3.init();\n        }\n      });\n    },\n    updata: function updata(index) {\n      var _this4 = this;\n\n      var data = {};\n      data.id = index;\n      data.price = (Math.random() * 10 + 1).toFixed(2);\n      getRequest(url.goodUpdate, data).then(function (res) {\n        if (res.code == 200) {\n          _this4.init();\n        }\n      });\n    },\n    search: function search() {\n      var _this5 = this;\n\n      var data = {};\n      data.id = this.id;\n      getRequest(url.goodById, data).then(function (res) {\n        if (res.code == 200) {\n          _this5.goodList = res.data;\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["Getserve.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"title\">getserve</div>\r\n        <button @click=\"add\">添加</button>\r\n        <button @click=\"search\">查找</button>\r\n        <input type=\"text\" v-model=\"id\">\r\n        <ul class=\"goodList\">\r\n            <li v-for=\"(item,index) in goodList\" :key=\"index\">\r\n                <span>{{item.id}}</span>\r\n                <span>{{item.name}}</span>\r\n                <span>{{item.desc}}</span>\r\n                <span>{{item.price}}</span>\r\n                 <span @click=\"updata(item.id)\">修改</span>\r\n                <span @click=\"del(item.id)\">删除</span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</template>\r\n<script>\r\nimport url from '../../../request/apiUrl'\r\nimport {getRequest} from '../../../api/api'\r\nimport axios from 'axios'\r\nexport default {\r\n    name:'Getserve',\r\n    data(){\r\n        return{\r\n            goodList:[],\r\n            id:''\r\n        }\r\n    },\r\n    created(){\r\n        let houseObj={};//发布者\r\n        houseObj.list=[];//缓存列表（登记册）；\r\n        // 添加订阅者\r\n        houseObj.listen=function(fn){\r\n            // 订阅消息添加到缓存列表\r\n            this.list.push(fn);\r\n        }\r\n        // 发布\r\n        houseObj.trigger=function(){\r\n            for(let i=0,fn;fn=this.list[i++];){\r\n                fn.apply(this,arguments)\r\n            }\r\n        }\r\n        houseObj.listen(function(size){\r\n            console.log('小红要的房子是'+size+'平米')\r\n        })\r\n        houseObj.listen(function(size){\r\n            console.log('小绿要的房子是'+size+'平米')\r\n        })\r\n        // houseObj.trigger(100);\r\n        // houseObj.trigger(150);\r\n        this.init()\r\n    },\r\n    methods:{\r\n        init(){\r\n            getRequest(url.goodAll,{}).then((res)=>{\r\n                if(res.code==200){\r\n                    this.goodList=res.data;\r\n                }\r\n            })\r\n        },\r\n        add(){\r\n            let data={};\r\n            data.name=\"香蕉\"+Math.floor((Math.random()*10)+1);\r\n            data.desc=\"香山的\";\r\n            data.price=\"8.88\";\r\n            data.sum='2'\r\n            getRequest(url.goodAdd,data).then((res)=>{\r\n                if(res.code==200){\r\n                   this.init()\r\n                }\r\n            })\r\n        },\r\n        del(index){\r\n            let data={};\r\n            data.id=index;\r\n            getRequest(url.goodDel,data).then((res)=>{\r\n                if(res.code==200){\r\n                   this.init()\r\n                }\r\n            })\r\n        },\r\n        updata(index){\r\n            let data={};\r\n            data.id=index;\r\n            data.price=((Math.random()*10)+1).toFixed(2)\r\n            getRequest(url.goodUpdate,data).then((res)=>{\r\n                if(res.code==200){\r\n                   this.init()\r\n                }\r\n            })\r\n        },\r\n        search(){\r\n            let data={};\r\n            data.id=this.id;\r\n            getRequest(url.goodById,data).then((res)=>{\r\n                if(res.code==200){\r\n                   this.goodList=res.data;\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\ninput\r\n    border 1px solid #ccc\r\nbutton\r\n    margin 0 .05rem\r\n.title\r\n    height .5rem\r\n    line-height .5rem\r\n    text-align center\r\n.goodList\r\n    li\r\n        display flex\r\n        border-bottom 1px solid #ccc \r\n        justify-content space-around\r\n        flex-direction row \r\n        flex-warp no-wrap\r\n        height .5rem \r\n        line-height .5rem\r\n        span \r\n            width 16.6%\r\n            overflow hidden\r\n</style>"],"sourceRoot":"src/views/Getserve"}]}